---
import { getCollection } from "astro:content";
import StudioCard from "../components/studio/studio-card.svelte";

const studioLandingPage = await getCollection("studioLandingPage", ({ data }) =>
  data.items.map((item) => item.published)
);

const studioLandingPageItems = studioLandingPage.flatMap(
  (entry) => entry.data.items
);
---

{
  studioLandingPageItems.map((item) => (
    <StudioCard
      client:visible
      title={item.title}
      published={item.published}
      subtitle={item.subtitle}
      shortenedLogoText={item.shortenedLogoText}
      image={item.image}
      imageAlt={item.imageAlt}
      description={item.description}
      buttonText={item.buttonText}
      destination={item.destination}
      order={item.order}
    />
  ))
}
